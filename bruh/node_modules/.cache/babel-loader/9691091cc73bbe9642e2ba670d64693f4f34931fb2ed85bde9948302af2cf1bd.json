{"ast":null,"code":"import React,{useState,useEffect,useRef}from\"react\";import\"./App.css\";/* --- Helper Function --- */// For drum button placement, new arc starts after 8, 16, and 20 buttons.\n// Groups: [8, 8, 4, 4] => max 24 buttons.\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function computeDefaultPosition(index,total){// Cap total to 24\nif(total>24)total=24;const groupSizes=[8,8,4,4];let groupIndex=0;let cumulative=0;for(let i=0;i<groupSizes.length;i++){cumulative+=groupSizes[i];if(index<cumulative){groupIndex=i;break;}}let groupStart=0;for(let i=0;i<groupIndex;i++){groupStart+=groupSizes[i];}const subIndex=index-groupStart;const totalInGroup=groupSizes[groupIndex];const areaWidth=Math.min(600,window.innerWidth-40);const centerX=areaWidth/2;// Calculate horizontal offset\nlet offset=totalInGroup===2?30:30+Math.floor(subIndex/2)*50;let x=subIndex%2===0?centerX+offset:centerX-offset;// Base Y shifts for each group\nconst baseY=120+groupIndex*80;// Each new arc is 80px lower\nconst dx=Math.abs(x-centerX);const factor=0.006;const y=baseY+factor*dx*dx;return{x:x-30,y:y-30};}/* --- Drum Component --- */function Drum(_ref){let{drum,toggleNote,handleNoteChange,updateDrumPosition,onDragStart,onDragStop}=_ref;const[dragging,setDragging]=useState(false);const[hasMoved,setHasMoved]=useState(false);const[startMouse,setStartMouse]=useState({x:0,y:0});const[startPos,setStartPos]=useState({x:0,y:0});const[showContextMenu,setShowContextMenu]=useState(false);const containerRef=useRef(null);const lastTapRef=useRef(0);const tapTimeoutRef=useRef(null);const moveThreshold=5;const handleMouseDown=e=>{if(e.button!==0)return;setDragging(true);setHasMoved(false);onDragStart();setStartMouse({x:e.clientX,y:e.clientY});setStartPos({x:drum.x,y:drum.y});e.preventDefault();};const handleMouseMove=e=>{if(!dragging)return;const dx=e.clientX-startMouse.x;const dy=e.clientY-startMouse.y;if(!hasMoved&&Math.hypot(dx,dy)>moveThreshold)setHasMoved(true);updateDrumPosition(drum.id,startPos.x+dx,startPos.y+dy,null,false);};const handleMouseUp=e=>{var _containerRef$current;if(!dragging)return;setDragging(false);onDragStop();const dx=e.clientX-startMouse.x;const dy=e.clientY-startMouse.y;const rect=((_containerRef$current=containerRef.current)===null||_containerRef$current===void 0?void 0:_containerRef$current.getBoundingClientRect())||null;updateDrumPosition(drum.id,startPos.x+dx,startPos.y+dy,rect,true);};useEffect(()=>{if(dragging){document.addEventListener(\"mousemove\",handleMouseMove);document.addEventListener(\"mouseup\",handleMouseUp);}else{document.removeEventListener(\"mousemove\",handleMouseMove);document.removeEventListener(\"mouseup\",handleMouseUp);}return()=>{document.removeEventListener(\"mousemove\",handleMouseMove);document.removeEventListener(\"mouseup\",handleMouseUp);};},[dragging,startMouse,startPos,hasMoved]);// Close context menu if clicking outside\nuseEffect(()=>{const handleClickOutside=e=>{if(containerRef.current&&!containerRef.current.contains(e.target)){setShowContextMenu(false);}};if(showContextMenu){document.addEventListener(\"mousedown\",handleClickOutside);document.addEventListener(\"touchstart\",handleClickOutside);}return()=>{document.removeEventListener(\"mousedown\",handleClickOutside);document.removeEventListener(\"touchstart\",handleClickOutside);};},[showContextMenu]);const handleTouchEnd=e=>{const now=Date.now();if(now-lastTapRef.current<300){clearTimeout(tapTimeoutRef.current);setShowContextMenu(true);}else{tapTimeoutRef.current=setTimeout(()=>{if(!dragging&&!showContextMenu&&!hasMoved)toggleNote(drum);},300);}lastTapRef.current=now;};const noteOptions=[\"C5\",\"B4\",\"A#4/Bb4\",\"A4\",\"G#4/Ab4\",\"G4\",\"F#4/Gb4\",\"F4\",\"E4\",\"D#4/Eb4\",\"D4\",\"C#4/Db4\",\"C4\",\"B3\",\"A#3/Bb3\",\"A3\",\"G#3/Ab3\",\"G3\",\"F#4/Gb4\",\"F3\",\"E3\",\"D#4/Eb4\",\"D3\",\"C#4/Db4\",\"C3\",\"B2\",\"A#2/Bb2\",\"A2\",\"G#2/Ab2\",\"G2\",\"F#2/Gb2\",\"F2\",\"E2\",\"D#2/Eb2\",\"D2\",\"C#2/Db2\",\"C2\",\"B1\",\"A#1/Bb1\",\"A1\",\"G#1/Ab1\",\"G1\",\"F#1/Gb1\",\"F1\",\"E1\",\"D#1/Eb1\",\"D1\",\"C#1/Db1\",\"C1\"];let contextMenuStyle={};if(showContextMenu&&containerRef.current){const rect=containerRef.current.getBoundingClientRect();contextMenuStyle={position:\"fixed\",top:rect.bottom+4,left:rect.left+rect.width/2,transform:\"translateX(-50%)\"};}return/*#__PURE__*/_jsxs(\"div\",{ref:containerRef,className:\"drum-container\",style:{position:\"absolute\",left:drum.x,top:drum.y,width:\"60px\",height:\"60px\",cursor:dragging?\"grabbing\":\"grab\"},onMouseDown:handleMouseDown,onDoubleClick:e=>{e.stopPropagation();setShowContextMenu(true);},onTouchEnd:handleTouchEnd,onClick:()=>{if(!dragging&&!hasMoved&&!showContextMenu)toggleNote(drum);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"drum-button\",children:/*#__PURE__*/_jsx(\"div\",{className:\"drum-circle\",children:drum.note})}),showContextMenu&&/*#__PURE__*/_jsx(\"div\",{className:\"context-menu\",style:contextMenuStyle,onClick:e=>e.stopPropagation(),children:noteOptions.map(note=>/*#__PURE__*/_jsx(\"div\",{className:\"context-menu-item\",onClick:()=>{handleNoteChange(drum,note);setShowContextMenu(false);},children:note},note))})]});}/* --- ConfigItem Component --- */function ConfigItem(_ref2){let{config,onLoad,onDelete,onRename,onOverwrite}=_ref2;const[renaming,setRenaming]=useState(false);const[newName,setNewName]=useState(config.name);const toggleRename=()=>{if(renaming){onRename(config.id,newName);setRenaming(false);}else{setRenaming(true);}};return/*#__PURE__*/_jsxs(\"li\",{className:\"config-item\",children:[renaming?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newName,onChange:e=>setNewName(e.target.value),onKeyDown:e=>{if(e.key===\"Enter\"){onRename(config.id,newName);setRenaming(false);}},onBlur:()=>setRenaming(false),autoFocus:true}):/*#__PURE__*/_jsx(\"button\",{className:\"load-button\",onClick:()=>onLoad(config),children:config.name}),/*#__PURE__*/_jsx(\"button\",{className:\"pencil-button\",onClick:toggleRename,children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"overwrite-button\",onClick:()=>onOverwrite(config.id),children:\"\\uD83D\\uDCBE\"}),/*#__PURE__*/_jsx(\"span\",{className:\"config-delete\",onClick:()=>onDelete(config.id),children:\"x\"})]});}/* --- Tutorial Component --- */function Tutorial(_ref3){let{onClose}=_ref3;const tutorialSteps=[\"Welcome to Tunepani! This app helps you tune your timpani drums.\",\"Drum Management: Click the '+' button to add drum buttons. Drag them anywhere to reposition, or drag them to the trash bin to delete.\",\"Reference Pitch: Tap a drum button to toggle a synthesized reference pitch for that drum.\",\"Changing the Pitch: Double‚Äëclick a drum button to open a menu with notes from C5 to C1. Select a note to set the drum's pitch.\",\"Pitch Detection: The app listens via your microphone and shows a gauge indicating whether your note is flat or sharp relative to the reference.\",\"Volume Control: Use the volume slider to adjust the output level of the reference pitch oscillator.\",\"Saving & Loading: In the sidebar, save your drum configuration, load saved pieces, rename them using the pencil icon, or overwrite them with the save icon.\",\"Dark Mode: Toggle Dark Mode from the settings at the bottom of the sidebar to switch themes.\",\"You're all set! Enjoy using Tunepani!\"];const[currentStep,setCurrentStep]=useState(0);const nextStep=()=>{if(currentStep<tutorialSteps.length-1){setCurrentStep(currentStep+1);}else{onClose();localStorage.setItem(\"tutorialShown\",\"true\");}};const prevStep=()=>{if(currentStep>0)setCurrentStep(currentStep-1);};return/*#__PURE__*/_jsx(\"div\",{className:\"tutorial-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-modal\",children:[/*#__PURE__*/_jsx(\"p\",{children:tutorialSteps[currentStep]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tutorial-buttons\",children:[currentStep>0&&/*#__PURE__*/_jsx(\"button\",{onClick:prevStep,children:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextStep,children:currentStep===tutorialSteps.length-1?\"Finish\":\"Next\"})]})]})});}/* --- Main Tunepani Component --- */function Tunepani(){const[drums,setDrums]=useState([]);const[pitch,setPitch]=useState(0);const[closestNote,setClosestNote]=useState(\"\");const[volume,setVolume]=useState(0.3);const[menuOpen,setMenuOpen]=useState(false);const[savedConfigs,setSavedConfigs]=useState([]);const[configName,setConfigName]=useState(\"\");const[isDragging,setIsDragging]=useState(false);const[darkMode,setDarkMode]=useState(false);const[showTutorial,setShowTutorial]=useState(false);const audioContextRef=useRef(null);const oscillatorsRef=useRef({});const analyserRef=useRef(null);const microphoneRef=useRef(null);const trashBinRef=useRef(null);const frequencies={\"C2\":65.41,\"C#2/Db2\":69.30,\"D2\":73.42,\"D#2/Eb2\":77.78,\"E2\":82.41,\"F2\":87.31,\"F#2/Gb2\":92.50,\"G2\":98.00,\"G#2/Ab2\":103.83,\"A2\":110.00,\"A#2/Bb2\":116.54,\"B2\":123.47,\"C3\":130.81,\"C#3/Db3\":138.59,\"D3\":146.83,\"D#3/Eb3\":155.56,\"E3\":164.81,\"F3\":174.61,\"F#3/Gb3\":185.00,\"G3\":196.00,\"G#3/Ab3\":207.65,\"A3\":220.00,\"A#3/Bb3\":233.08,\"B3\":246.94,\"C4\":261.63,\"C#4/Db4\":277.18,\"D4\":293.66,\"D#4/Eb4\":311.13,\"E4\":329.63,\"F4\":349.23,\"F#4/Gb4\":369.99,\"G4\":392.00,\"G#4/Ab4\":415.30,\"A4\":440.00,\"A#4/Bb4\":466.16,\"B4\":493.88,\"C5\":523.25};useEffect(()=>{navigator.mediaDevices.getUserMedia({audio:true}).then(stream=>{if(!audioContextRef.current){audioContextRef.current=new(window.AudioContext||window.webkitAudioContext)();}const audioContext=audioContextRef.current;analyserRef.current=audioContext.createAnalyser();analyserRef.current.fftSize=2048;microphoneRef.current=audioContext.createMediaStreamSource(stream);microphoneRef.current.connect(analyserRef.current);detectPitch();}).catch(error=>console.error(\"Microphone access error:\",error));const configs=JSON.parse(localStorage.getItem(\"tunepaniConfigs\"))||[];setSavedConfigs(configs);if(!localStorage.getItem(\"tutorialShown\"))setShowTutorial(true);},[]);const detectPitch=()=>{const analyser=analyserRef.current;if(!analyser)return;const bufferLength=analyser.frequencyBinCount;const dataArray=new Uint8Array(bufferLength);const processPitch=()=>{analyser.getByteFrequencyData(dataArray);const maxVal=Math.max(...dataArray);const maxIndex=dataArray.indexOf(maxVal);const frequency=maxIndex*(audioContextRef.current.sampleRate/analyser.fftSize);setPitch(frequency);setClosestNote(findClosestNote(frequency));requestAnimationFrame(processPitch);};processPitch();};const findClosestNote=frequency=>{if(!frequency||frequency<=0)return\"\";return Object.keys(frequencies).reduce((closest,note)=>Math.abs(frequencies[note]-frequency)<Math.abs(frequencies[closest]-frequency)?note:closest);};const addDrum=()=>{if(drums.length>=24)return;// Cap at 24 buttons\nconst newIndex=drums.length;const newPos=computeDefaultPosition(newIndex,drums.length+1);const newDrum={id:Date.now(),note:\"E3\",x:newPos.x,y:newPos.y};setDrums(prev=>[...prev,newDrum]);};const removeDrum=drumId=>{setDrums(prev=>prev.filter(drum=>drum.id!==drumId));if(oscillatorsRef.current[drumId]){try{oscillatorsRef.current[drumId].oscillator.stop(audioContextRef.current.currentTime);}catch(e){console.error(\"Error stopping oscillator\",e);}delete oscillatorsRef.current[drumId];}};const toggleNote=drum=>{if(!frequencies[drum.note])return;const audioContext=audioContextRef.current;if((audioContext===null||audioContext===void 0?void 0:audioContext.state)===\"suspended\")audioContext.resume();if(oscillatorsRef.current[drum.id]){try{oscillatorsRef.current[drum.id].oscillator.stop(audioContext.currentTime);}catch(e){console.error(\"Error stopping oscillator\",e);}delete oscillatorsRef.current[drum.id];}else{const freq=frequencies[drum.note];if(!isFinite(freq))return;const oscillator=audioContext.createOscillator();const gainNode=audioContext.createGain();oscillator.type=\"sine\";oscillator.frequency.setValueAtTime(freq,audioContext.currentTime);gainNode.gain.setValueAtTime(volume,audioContext.currentTime);oscillator.connect(gainNode).connect(audioContext.destination);oscillator.start();oscillatorsRef.current[drum.id]={oscillator,gainNode};}};const handleNoteChange=(drum,newNote)=>{setDrums(prev=>prev.map(d=>d.id===drum.id?{...d,note:newNote}:d));if(oscillatorsRef.current[drum.id]){const freq=frequencies[newNote];if(isFinite(freq)){oscillatorsRef.current[drum.id].oscillator.frequency.setValueAtTime(freq,audioContextRef.current.currentTime);}}};const updateDrumPosition=function(drumId,x,y,rect){let final=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;if(isNaN(x)||isNaN(y))return;if(final&&trashBinRef.current&&rect){const trashRect=trashBinRef.current.getBoundingClientRect();if(rect.right>trashRect.left&&rect.left<trashRect.right&&rect.bottom>trashRect.top&&rect.top<trashRect.bottom){removeDrum(drumId);return;}}setDrums(prev=>prev.map(d=>d.id===drumId?{...d,x,y}:d));};const handleVolumeChange=e=>{const newVolume=parseFloat(e.target.value);setVolume(newVolume);Object.values(oscillatorsRef.current).forEach(_ref4=>{let{gainNode}=_ref4;return gainNode.gain.setValueAtTime(newVolume,audioContextRef.current.currentTime);});};const saveConfiguration=()=>{const name=configName.trim()||\"Untitled Piece\";const newConfig={id:Date.now(),name,drums};const updatedConfigs=[...savedConfigs,newConfig];setSavedConfigs(updatedConfigs);localStorage.setItem(\"tunepaniConfigs\",JSON.stringify(updatedConfigs));setConfigName(\"\");};const loadConfiguration=config=>{setDrums(config.drums);setMenuOpen(false);};const deleteConfiguration=configId=>{const updatedConfigs=savedConfigs.filter(c=>c.id!==configId);setSavedConfigs(updatedConfigs);localStorage.setItem(\"tunepaniConfigs\",JSON.stringify(updatedConfigs));};const handleConfigNameChange=e=>setConfigName(e.target.value);const onDragStart=()=>setIsDragging(true);const onDragStop=()=>setIsDragging(false);let markerLeft=100;let gaugeNote=\"\";if(pitch>0&&closestNote){const ideal=frequencies[closestNote];if(ideal){let cents=1200*Math.log2(pitch/ideal);cents=Math.max(-50,Math.min(50,cents));markerLeft=100+cents/50*100;gaugeNote=closestNote;}}const closeMenu=()=>setMenuOpen(false);const toggleDarkMode=()=>setDarkMode(prev=>!prev);const handleRename=(id,newName)=>{const updated=savedConfigs.map(config=>config.id===id?{...config,name:newName}:config);setSavedConfigs(updated);localStorage.setItem(\"tunepaniConfigs\",JSON.stringify(updated));};const handleOverwrite=id=>{const updated=savedConfigs.map(config=>config.id===id?{...config,drums}:config);setSavedConfigs(updated);localStorage.setItem(\"tunepaniConfigs\",JSON.stringify(updated));};return/*#__PURE__*/_jsxs(\"div\",{className:`container ${darkMode?\"dark-mode\":\"\"}`,children:[showTutorial&&/*#__PURE__*/_jsx(Tutorial,{onClose:()=>setShowTutorial(false)}),/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>setMenuOpen(!menuOpen),children:\"\\u2630\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:\"Tunepani\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-drum-icon\",onClick:addDrum,children:\"+\"})]}),menuOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",onClick:closeMenu}),menuOpen&&/*#__PURE__*/_jsxs(\"aside\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-header\",children:/*#__PURE__*/_jsx(\"button\",{className:\"menu-button\",onClick:()=>setMenuOpen(false),children:\"\\u2630\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Save Piece\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Piece Name\",value:configName,onChange:handleConfigNameChange,className:\"config-input\"}),/*#__PURE__*/_jsx(\"button\",{className:\"config-button\",onClick:saveConfiguration,children:\"Save\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Pieces\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"config-list\",children:savedConfigs.map(config=>/*#__PURE__*/_jsx(ConfigItem,{config:config,onLoad:loadConfiguration,onDelete:deleteConfiguration,onRename:handleRename,onOverwrite:handleOverwrite},config.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-menu\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Settings\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"dark-mode-toggle\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:darkMode,onChange:toggleDarkMode}),\"Dark Mode\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"drum-area\",children:[drums.map(drum=>/*#__PURE__*/_jsx(Drum,{drum:drum,toggleNote:toggleNote,handleNoteChange:handleNoteChange,updateDrumPosition:updateDrumPosition,onDragStart:onDragStart,onDragStop:onDragStop},drum.id)),isDragging&&/*#__PURE__*/_jsx(\"div\",{className:\"trash-bin\",ref:trashBinRef,children:/*#__PURE__*/_jsx(\"span\",{className:\"trash-icon\",children:\"\\uD83D\\uDDD1\\uFE0F\"})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"gauge-label\",children:\"Flat\"}),/*#__PURE__*/_jsx(\"div\",{className:\"gauge\",children:/*#__PURE__*/_jsx(\"div\",{className:\"gauge-marker\",style:{left:markerLeft+\"px\"}})}),/*#__PURE__*/_jsx(\"span\",{className:\"gauge-label\",children:\"Sharp\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-note\",children:[\"Detected Note: \",gaugeNote]}),/*#__PURE__*/_jsxs(\"div\",{className:\"volume-control\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"volume-slider\",children:\"Volume:\"}),/*#__PURE__*/_jsx(\"input\",{id:\"volume-slider\",type:\"range\",min:\"0\",max:\"1\",step:\"0.01\",value:volume,onChange:handleVolumeChange})]})]})]});}export default Tunepani;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","computeDefaultPosition","index","total","groupSizes","groupIndex","cumulative","i","length","groupStart","subIndex","totalInGroup","areaWidth","Math","min","window","innerWidth","centerX","offset","floor","x","baseY","dx","abs","factor","y","Drum","_ref","drum","toggleNote","handleNoteChange","updateDrumPosition","onDragStart","onDragStop","dragging","setDragging","hasMoved","setHasMoved","startMouse","setStartMouse","startPos","setStartPos","showContextMenu","setShowContextMenu","containerRef","lastTapRef","tapTimeoutRef","moveThreshold","handleMouseDown","e","button","clientX","clientY","preventDefault","handleMouseMove","dy","hypot","id","handleMouseUp","_containerRef$current","rect","current","getBoundingClientRect","document","addEventListener","removeEventListener","handleClickOutside","contains","target","handleTouchEnd","now","Date","clearTimeout","setTimeout","noteOptions","contextMenuStyle","position","top","bottom","left","width","transform","ref","className","style","height","cursor","onMouseDown","onDoubleClick","stopPropagation","onTouchEnd","onClick","children","note","map","ConfigItem","_ref2","config","onLoad","onDelete","onRename","onOverwrite","renaming","setRenaming","newName","setNewName","name","toggleRename","type","value","onChange","onKeyDown","key","onBlur","autoFocus","Tutorial","_ref3","onClose","tutorialSteps","currentStep","setCurrentStep","nextStep","localStorage","setItem","prevStep","Tunepani","drums","setDrums","pitch","setPitch","closestNote","setClosestNote","volume","setVolume","menuOpen","setMenuOpen","savedConfigs","setSavedConfigs","configName","setConfigName","isDragging","setIsDragging","darkMode","setDarkMode","showTutorial","setShowTutorial","audioContextRef","oscillatorsRef","analyserRef","microphoneRef","trashBinRef","frequencies","navigator","mediaDevices","getUserMedia","audio","then","stream","AudioContext","webkitAudioContext","audioContext","createAnalyser","fftSize","createMediaStreamSource","connect","detectPitch","catch","error","console","configs","JSON","parse","getItem","analyser","bufferLength","frequencyBinCount","dataArray","Uint8Array","processPitch","getByteFrequencyData","maxVal","max","maxIndex","indexOf","frequency","sampleRate","findClosestNote","requestAnimationFrame","Object","keys","reduce","closest","addDrum","newIndex","newPos","newDrum","prev","removeDrum","drumId","filter","oscillator","stop","currentTime","state","resume","freq","isFinite","createOscillator","gainNode","createGain","setValueAtTime","gain","destination","start","newNote","d","final","arguments","undefined","isNaN","trashRect","right","handleVolumeChange","newVolume","parseFloat","values","forEach","_ref4","saveConfiguration","trim","newConfig","updatedConfigs","stringify","loadConfiguration","deleteConfiguration","configId","c","handleConfigNameChange","markerLeft","gaugeNote","ideal","cents","log2","closeMenu","toggleDarkMode","handleRename","updated","handleOverwrite","placeholder","checked","htmlFor","step"],"sources":["/home/sqjl/tunepani_1.1.1/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport \"./App.css\";\n\n/* --- Helper Function --- */\n// For drum button placement, new arc starts after 8, 16, and 20 buttons.\n// Groups: [8, 8, 4, 4] => max 24 buttons.\nfunction computeDefaultPosition(index, total) {\n  // Cap total to 24\n  if (total > 24) total = 24;\n\n  const groupSizes = [8, 8, 4, 4];\n  let groupIndex = 0;\n  let cumulative = 0;\n  for (let i = 0; i < groupSizes.length; i++) {\n    cumulative += groupSizes[i];\n    if (index < cumulative) {\n      groupIndex = i;\n      break;\n    }\n  }\n  let groupStart = 0;\n  for (let i = 0; i < groupIndex; i++) {\n    groupStart += groupSizes[i];\n  }\n  const subIndex = index - groupStart;\n  const totalInGroup = groupSizes[groupIndex];\n\n  const areaWidth = Math.min(600, window.innerWidth - 40);\n  const centerX = areaWidth / 2;\n  \n  // Calculate horizontal offset\n  let offset = totalInGroup === 2 ? 30 : 30 + Math.floor(subIndex / 2) * 50;\n  let x = subIndex % 2 === 0 ? centerX + offset : centerX - offset;\n  \n  // Base Y shifts for each group\n  const baseY = 120 + groupIndex * 80; // Each new arc is 80px lower\n  const dx = Math.abs(x - centerX);\n  const factor = 0.006;\n  const y = baseY + factor * dx * dx;\n  return { x: x - 30, y: y - 30 };\n}\n\n/* --- Drum Component --- */\nfunction Drum({ drum, toggleNote, handleNoteChange, updateDrumPosition, onDragStart, onDragStop }) {\n  const [dragging, setDragging] = useState(false);\n  const [hasMoved, setHasMoved] = useState(false);\n  const [startMouse, setStartMouse] = useState({ x: 0, y: 0 });\n  const [startPos, setStartPos] = useState({ x: 0, y: 0 });\n  const [showContextMenu, setShowContextMenu] = useState(false);\n  const containerRef = useRef(null);\n  const lastTapRef = useRef(0);\n  const tapTimeoutRef = useRef(null);\n  const moveThreshold = 5;\n\n  const handleMouseDown = (e) => {\n    if (e.button !== 0) return;\n    setDragging(true);\n    setHasMoved(false);\n    onDragStart();\n    setStartMouse({ x: e.clientX, y: e.clientY });\n    setStartPos({ x: drum.x, y: drum.y });\n    e.preventDefault();\n  };\n\n  const handleMouseMove = (e) => {\n    if (!dragging) return;\n    const dx = e.clientX - startMouse.x;\n    const dy = e.clientY - startMouse.y;\n    if (!hasMoved && Math.hypot(dx, dy) > moveThreshold) setHasMoved(true);\n    updateDrumPosition(drum.id, startPos.x + dx, startPos.y + dy, null, false);\n  };\n\n  const handleMouseUp = (e) => {\n    if (!dragging) return;\n    setDragging(false);\n    onDragStop();\n    const dx = e.clientX - startMouse.x;\n    const dy = e.clientY - startMouse.y;\n    const rect = containerRef.current?.getBoundingClientRect() || null;\n    updateDrumPosition(drum.id, startPos.x + dx, startPos.y + dy, rect, true);\n  };\n\n  useEffect(() => {\n    if (dragging) {\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    } else {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    }\n    return () => {\n      document.removeEventListener(\"mousemove\", handleMouseMove);\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [dragging, startMouse, startPos, hasMoved]);\n\n  // Close context menu if clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (containerRef.current && !containerRef.current.contains(e.target)) {\n        setShowContextMenu(false);\n      }\n    };\n    if (showContextMenu) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n      document.addEventListener(\"touchstart\", handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"touchstart\", handleClickOutside);\n    };\n  }, [showContextMenu]);\n\n  const handleTouchEnd = (e) => {\n    const now = Date.now();\n    if (now - lastTapRef.current < 300) {\n      clearTimeout(tapTimeoutRef.current);\n      setShowContextMenu(true);\n    } else {\n      tapTimeoutRef.current = setTimeout(() => {\n        if (!dragging && !showContextMenu && !hasMoved) toggleNote(drum);\n      }, 300);\n    }\n    lastTapRef.current = now;\n  };\n\n  const noteOptions = [\n    \"C5\", \"B4\", \"A#4/Bb4\", \"A4\", \"G#4/Ab4\", \"G4\",\n    \"F#4/Gb4\", \"F4\", \"E4\", \"D#4/Eb4\", \"D4\", \"C#4/Db4\",\n    \"C4\", \"B3\", \"A#3/Bb3\", \"A3\", \"G#3/Ab3\", \"G3\",\n    \"F#4/Gb4\", \"F3\", \"E3\", \"D#4/Eb4\", \"D3\", \"C#4/Db4\",\n    \"C3\", \"B2\", \"A#2/Bb2\", \"A2\", \"G#2/Ab2\", \"G2\",\n    \"F#2/Gb2\", \"F2\", \"E2\", \"D#2/Eb2\", \"D2\", \"C#2/Db2\",\n    \"C2\", \"B1\", \"A#1/Bb1\", \"A1\", \"G#1/Ab1\", \"G1\",\n    \"F#1/Gb1\", \"F1\", \"E1\", \"D#1/Eb1\", \"D1\", \"C#1/Db1\", \"C1\"\n  ];\n\n  let contextMenuStyle = {};\n  if (showContextMenu && containerRef.current) {\n    const rect = containerRef.current.getBoundingClientRect();\n    contextMenuStyle = {\n      position: \"fixed\",\n      top: rect.bottom + 4,\n      left: rect.left + rect.width / 2,\n      transform: \"translateX(-50%)\"\n    };\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"drum-container\"\n      style={{\n        position: \"absolute\",\n        left: drum.x,\n        top: drum.y,\n        width: \"60px\",\n        height: \"60px\",\n        cursor: dragging ? \"grabbing\" : \"grab\"\n      }}\n      onMouseDown={handleMouseDown}\n      onDoubleClick={(e) => {\n        e.stopPropagation();\n        setShowContextMenu(true);\n      }}\n      onTouchEnd={handleTouchEnd}\n      onClick={() => {\n        if (!dragging && !hasMoved && !showContextMenu) toggleNote(drum);\n      }}\n    >\n      <div className=\"drum-button\">\n        <div className=\"drum-circle\">{drum.note}</div>\n      </div>\n      {showContextMenu && (\n        <div className=\"context-menu\" style={contextMenuStyle} onClick={(e) => e.stopPropagation()}>\n          {noteOptions.map((note) => (\n            <div\n              key={note}\n              className=\"context-menu-item\"\n              onClick={() => {\n                handleNoteChange(drum, note);\n                setShowContextMenu(false);\n              }}\n            >\n              {note}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n/* --- ConfigItem Component --- */\nfunction ConfigItem({ config, onLoad, onDelete, onRename, onOverwrite }) {\n  const [renaming, setRenaming] = useState(false);\n  const [newName, setNewName] = useState(config.name);\n\n  const toggleRename = () => {\n    if (renaming) {\n      onRename(config.id, newName);\n      setRenaming(false);\n    } else {\n      setRenaming(true);\n    }\n  };\n\n  return (\n    <li className=\"config-item\">\n      {renaming ? (\n        <input\n          type=\"text\"\n          value={newName}\n          onChange={(e) => setNewName(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              onRename(config.id, newName);\n              setRenaming(false);\n            }\n          }}\n          onBlur={() => setRenaming(false)}\n          autoFocus\n        />\n      ) : (\n        <button className=\"load-button\" onClick={() => onLoad(config)}>\n          {config.name}\n        </button>\n      )}\n      <button className=\"pencil-button\" onClick={toggleRename}>\n        ‚úèÔ∏è\n      </button>\n      <button className=\"overwrite-button\" onClick={() => onOverwrite(config.id)}>\n        üíæ\n      </button>\n      <span className=\"config-delete\" onClick={() => onDelete(config.id)}>\n        x\n      </span>\n    </li>\n  );\n}\n\n/* --- Tutorial Component --- */\nfunction Tutorial({ onClose }) {\n  const tutorialSteps = [\n    \"Welcome to Tunepani! This app helps you tune your timpani drums.\",\n    \"Drum Management: Click the '+' button to add drum buttons. Drag them anywhere to reposition, or drag them to the trash bin to delete.\",\n    \"Reference Pitch: Tap a drum button to toggle a synthesized reference pitch for that drum.\",\n    \"Changing the Pitch: Double‚Äëclick a drum button to open a menu with notes from C5 to C1. Select a note to set the drum's pitch.\",\n    \"Pitch Detection: The app listens via your microphone and shows a gauge indicating whether your note is flat or sharp relative to the reference.\",\n    \"Volume Control: Use the volume slider to adjust the output level of the reference pitch oscillator.\",\n    \"Saving & Loading: In the sidebar, save your drum configuration, load saved pieces, rename them using the pencil icon, or overwrite them with the save icon.\",\n    \"Dark Mode: Toggle Dark Mode from the settings at the bottom of the sidebar to switch themes.\",\n    \"You're all set! Enjoy using Tunepani!\"\n  ];\n  \n  const [currentStep, setCurrentStep] = useState(0);\n  \n  const nextStep = () => {\n    if (currentStep < tutorialSteps.length - 1) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      onClose();\n      localStorage.setItem(\"tutorialShown\", \"true\");\n    }\n  };\n  \n  const prevStep = () => {\n    if (currentStep > 0) setCurrentStep(currentStep - 1);\n  };\n  \n  return (\n    <div className=\"tutorial-overlay\">\n      <div className=\"tutorial-modal\">\n        <p>{tutorialSteps[currentStep]}</p>\n        <div className=\"tutorial-buttons\">\n          {currentStep > 0 && <button onClick={prevStep}>Back</button>}\n          <button onClick={nextStep}>\n            {currentStep === tutorialSteps.length - 1 ? \"Finish\" : \"Next\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* --- Main Tunepani Component --- */\nfunction Tunepani() {\n  const [drums, setDrums] = useState([]);\n  const [pitch, setPitch] = useState(0);\n  const [closestNote, setClosestNote] = useState(\"\");\n  const [volume, setVolume] = useState(0.3);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [savedConfigs, setSavedConfigs] = useState([]);\n  const [configName, setConfigName] = useState(\"\");\n  const [isDragging, setIsDragging] = useState(false);\n  const [darkMode, setDarkMode] = useState(false);\n  const [showTutorial, setShowTutorial] = useState(false);\n\n  const audioContextRef = useRef(null);\n  const oscillatorsRef = useRef({});\n  const analyserRef = useRef(null);\n  const microphoneRef = useRef(null);\n  const trashBinRef = useRef(null);\n\n  const frequencies = {\n    \"C2\": 65.41, \"C#2/Db2\": 69.30, \"D2\": 73.42, \"D#2/Eb2\": 77.78, \"E2\": 82.41, \"F2\": 87.31, \"F#2/Gb2\": 92.50, \"G2\": 98.00,\n    \"G#2/Ab2\": 103.83, \"A2\": 110.00, \"A#2/Bb2\": 116.54, \"B2\": 123.47,\n    \"C3\": 130.81, \"C#3/Db3\": 138.59, \"D3\": 146.83, \"D#3/Eb3\": 155.56, \"E3\": 164.81, \"F3\": 174.61, \"F#3/Gb3\": 185.00, \"G3\": 196.00,\n    \"G#3/Ab3\": 207.65, \"A3\": 220.00, \"A#3/Bb3\": 233.08, \"B3\": 246.94,\n    \"C4\": 261.63, \"C#4/Db4\": 277.18, \"D4\": 293.66, \"D#4/Eb4\": 311.13, \"E4\": 329.63, \"F4\": 349.23, \"F#4/Gb4\": 369.99, \"G4\": 392.00,\n    \"G#4/Ab4\": 415.30, \"A4\": 440.00, \"A#4/Bb4\": 466.16, \"B4\": 493.88,\n    \"C5\": 523.25,\n  };\n\n  useEffect(() => {\n    navigator.mediaDevices.getUserMedia({ audio: true })\n      .then((stream) => {\n        if (!audioContextRef.current) {\n          audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n        }\n        const audioContext = audioContextRef.current;\n        analyserRef.current = audioContext.createAnalyser();\n        analyserRef.current.fftSize = 2048;\n        microphoneRef.current = audioContext.createMediaStreamSource(stream);\n        microphoneRef.current.connect(analyserRef.current);\n        detectPitch();\n      })\n      .catch((error) => console.error(\"Microphone access error:\", error));\n    const configs = JSON.parse(localStorage.getItem(\"tunepaniConfigs\")) || [];\n    setSavedConfigs(configs);\n    if (!localStorage.getItem(\"tutorialShown\")) setShowTutorial(true);\n  }, []);\n\n  const detectPitch = () => {\n    const analyser = analyserRef.current;\n    if (!analyser) return;\n    const bufferLength = analyser.frequencyBinCount;\n    const dataArray = new Uint8Array(bufferLength);\n    const processPitch = () => {\n      analyser.getByteFrequencyData(dataArray);\n      const maxVal = Math.max(...dataArray);\n      const maxIndex = dataArray.indexOf(maxVal);\n      const frequency = maxIndex * (audioContextRef.current.sampleRate / analyser.fftSize);\n      setPitch(frequency);\n      setClosestNote(findClosestNote(frequency));\n      requestAnimationFrame(processPitch);\n    };\n    processPitch();\n  };\n\n  const findClosestNote = (frequency) => {\n    if (!frequency || frequency <= 0) return \"\";\n    return Object.keys(frequencies).reduce((closest, note) =>\n      Math.abs(frequencies[note] - frequency) < Math.abs(frequencies[closest] - frequency)\n        ? note\n        : closest\n    );\n  };\n\n  const addDrum = () => {\n    if (drums.length >= 24) return; // Cap at 24 buttons\n    const newIndex = drums.length;\n    const newPos = computeDefaultPosition(newIndex, drums.length + 1);\n    const newDrum = { id: Date.now(), note: \"E3\", x: newPos.x, y: newPos.y };\n    setDrums((prev) => [...prev, newDrum]);\n  };\n\n  const removeDrum = (drumId) => {\n    setDrums((prev) => prev.filter((drum) => drum.id !== drumId));\n    if (oscillatorsRef.current[drumId]) {\n      try {\n        oscillatorsRef.current[drumId].oscillator.stop(audioContextRef.current.currentTime);\n      } catch (e) {\n        console.error(\"Error stopping oscillator\", e);\n      }\n      delete oscillatorsRef.current[drumId];\n    }\n  };\n\n  const toggleNote = (drum) => {\n    if (!frequencies[drum.note]) return;\n    const audioContext = audioContextRef.current;\n    if (audioContext?.state === \"suspended\") audioContext.resume();\n    if (oscillatorsRef.current[drum.id]) {\n      try {\n        oscillatorsRef.current[drum.id].oscillator.stop(audioContext.currentTime);\n      } catch (e) {\n        console.error(\"Error stopping oscillator\", e);\n      }\n      delete oscillatorsRef.current[drum.id];\n    } else {\n      const freq = frequencies[drum.note];\n      if (!isFinite(freq)) return;\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.type = \"sine\";\n      oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);\n      gainNode.gain.setValueAtTime(volume, audioContext.currentTime);\n      oscillator.connect(gainNode).connect(audioContext.destination);\n      oscillator.start();\n      oscillatorsRef.current[drum.id] = { oscillator, gainNode };\n    }\n  };\n\n  const handleNoteChange = (drum, newNote) => {\n    setDrums((prev) =>\n      prev.map((d) => (d.id === drum.id ? { ...d, note: newNote } : d))\n    );\n    if (oscillatorsRef.current[drum.id]) {\n      const freq = frequencies[newNote];\n      if (isFinite(freq)) {\n        oscillatorsRef.current[drum.id].oscillator.frequency.setValueAtTime(\n          freq,\n          audioContextRef.current.currentTime\n        );\n      }\n    }\n  };\n\n  const updateDrumPosition = (drumId, x, y, rect, final = false) => {\n    if (isNaN(x) || isNaN(y)) return;\n    if (final && trashBinRef.current && rect) {\n      const trashRect = trashBinRef.current.getBoundingClientRect();\n      if (\n        rect.right > trashRect.left &&\n        rect.left < trashRect.right &&\n        rect.bottom > trashRect.top &&\n        rect.top < trashRect.bottom\n      ) {\n        removeDrum(drumId);\n        return;\n      }\n    }\n    setDrums((prev) =>\n      prev.map((d) => (d.id === drumId ? { ...d, x, y } : d))\n    );\n  };\n\n  const handleVolumeChange = (e) => {\n    const newVolume = parseFloat(e.target.value);\n    setVolume(newVolume);\n    Object.values(oscillatorsRef.current).forEach(({ gainNode }) =>\n      gainNode.gain.setValueAtTime(newVolume, audioContextRef.current.currentTime)\n    );\n  };\n\n  const saveConfiguration = () => {\n    const name = configName.trim() || \"Untitled Piece\";\n    const newConfig = { id: Date.now(), name, drums };\n    const updatedConfigs = [...savedConfigs, newConfig];\n    setSavedConfigs(updatedConfigs);\n    localStorage.setItem(\"tunepaniConfigs\", JSON.stringify(updatedConfigs));\n    setConfigName(\"\");\n  };\n\n  const loadConfiguration = (config) => {\n    setDrums(config.drums);\n    setMenuOpen(false);\n  };\n\n  const deleteConfiguration = (configId) => {\n    const updatedConfigs = savedConfigs.filter((c) => c.id !== configId);\n    setSavedConfigs(updatedConfigs);\n    localStorage.setItem(\"tunepaniConfigs\", JSON.stringify(updatedConfigs));\n  };\n\n  const handleConfigNameChange = (e) => setConfigName(e.target.value);\n\n  const onDragStart = () => setIsDragging(true);\n  const onDragStop = () => setIsDragging(false);\n\n  let markerLeft = 100;\n  let gaugeNote = \"\";\n  if (pitch > 0 && closestNote) {\n    const ideal = frequencies[closestNote];\n    if (ideal) {\n      let cents = 1200 * Math.log2(pitch / ideal);\n      cents = Math.max(-50, Math.min(50, cents));\n      markerLeft = 100 + (cents / 50) * 100;\n      gaugeNote = closestNote;\n    }\n  }\n\n  const closeMenu = () => setMenuOpen(false);\n  const toggleDarkMode = () => setDarkMode((prev) => !prev);\n\n  const handleRename = (id, newName) => {\n    const updated = savedConfigs.map((config) =>\n      config.id === id ? { ...config, name: newName } : config\n    );\n    setSavedConfigs(updated);\n    localStorage.setItem(\"tunepaniConfigs\", JSON.stringify(updated));\n  };\n\n  const handleOverwrite = (id) => {\n    const updated = savedConfigs.map((config) =>\n      config.id === id ? { ...config, drums } : config\n    );\n    setSavedConfigs(updated);\n    localStorage.setItem(\"tunepaniConfigs\", JSON.stringify(updated));\n  };\n\n  return (\n    <div className={`container ${darkMode ? \"dark-mode\" : \"\"}`}>\n      {showTutorial && <Tutorial onClose={() => setShowTutorial(false)} />}\n      <header className=\"header\">\n        <button className=\"menu-button\" onClick={() => setMenuOpen(!menuOpen)}>\n          ‚ò∞\n        </button>\n        <h1 className=\"title\">Tunepani</h1>\n        <button className=\"add-drum-icon\" onClick={addDrum}>\n          +\n        </button>\n      </header>\n\n      {menuOpen && <div className=\"overlay\" onClick={closeMenu}></div>}\n\n      {menuOpen && (\n        <aside className=\"sidebar\">\n          <div className=\"sidebar-header\">\n            <button className=\"menu-button\" onClick={() => setMenuOpen(false)}>\n              ‚ò∞\n            </button>\n          </div>\n          <h3>Save Piece</h3>\n          <input\n            type=\"text\"\n            placeholder=\"Piece Name\"\n            value={configName}\n            onChange={handleConfigNameChange}\n            className=\"config-input\"\n          />\n          <button className=\"config-button\" onClick={saveConfiguration}>\n            Save\n          </button>\n          <h3>Pieces</h3>\n          <ul className=\"config-list\">\n            {savedConfigs.map((config) => (\n              <ConfigItem\n                key={config.id}\n                config={config}\n                onLoad={loadConfiguration}\n                onDelete={deleteConfiguration}\n                onRename={handleRename}\n                onOverwrite={handleOverwrite}\n              />\n            ))}\n          </ul>\n          <div className=\"settings-menu\">\n            <h4>Settings</h4>\n            <label className=\"dark-mode-toggle\">\n              <input type=\"checkbox\" checked={darkMode} onChange={toggleDarkMode} />\n              Dark Mode\n            </label>\n          </div>\n        </aside>\n      )}\n\n      <div className=\"drum-area\">\n        {drums.map((drum) => (\n          <Drum\n            key={drum.id}\n            drum={drum}\n            toggleNote={toggleNote}\n            handleNoteChange={handleNoteChange}\n            updateDrumPosition={updateDrumPosition}\n            onDragStart={onDragStart}\n            onDragStop={onDragStop}\n          />\n        ))}\n        {isDragging && (\n          <div className=\"trash-bin\" ref={trashBinRef}>\n            <span className=\"trash-icon\">üóëÔ∏è</span>\n          </div>\n        )}\n      </div>\n\n      <main className=\"main-content\">\n        <div className=\"gauge-container\">\n          <span className=\"gauge-label\">Flat</span>\n          <div className=\"gauge\">\n            <div className=\"gauge-marker\" style={{ left: markerLeft + \"px\" }}></div>\n          </div>\n          <span className=\"gauge-label\">Sharp</span>\n        </div>\n        <div className=\"gauge-note\">Detected Note: {gaugeNote}</div>\n        <div className=\"volume-control\">\n          <label htmlFor=\"volume-slider\">Volume:</label>\n          <input id=\"volume-slider\" type=\"range\" min=\"0\" max=\"1\" step=\"0.01\" value={volume} onChange={handleVolumeChange} />\n        </div>\n      </main>\n    </div>\n  );\n}\n\nexport default Tunepani;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}